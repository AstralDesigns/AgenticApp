<div
  class="h-screen w-full font-sans flex flex-col"
  [class.sidebar-visible]="uiStateService.sidebarVisible()"
  [class.chat-visible]="uiStateService.chatVisible()"
>
  <app-header></app-header>

  <div class="relative flex-1 flex overflow-hidden">
    <!-- Main content that gets pushed on large screens -->
    <main class="app-main h-full w-full flex-1">
      <app-workspace></app-workspace>
    </main>

    <!-- Floating sidebar panel -->
    <aside class="sidebar-panel h-full w-64">
      <app-sidebar></app-sidebar>
    </aside>

    <!-- Floating chat panel -->
    <aside class="chat-panel h-full w-96">
      <app-chat></app-chat>
    </aside>

    <!-- Backdrop for mobile/overlay mode -->
    <div
      class="backdrop lg:hidden"
      (click)="uiStateService.chatVisible() && uiStateService.toggleChat()"
    ></div>
  </div>
</div>
